<ion-header>
    <ion-toolbar>
        <ion-title>
            FORMULARIOS
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <!-- FORMULARIOS DE TEMPLATE -->
    <form (ngSubmit)="crearUsuario(usuarioFormulario)"
          #usuarioFormulario="ngForm">
        <!--     <h1 #papa> papa </h1>-->

        <ion-item>
            <h1>FORMULARIO</h1>
        </ion-item>
        <ion-item>
            <ion-label>Nombre:</ion-label>
            <ion-input type="text"
                       name="nombre"
                       required
                       placeholder="Ej: Edison Sanango"
                       minlength="3"
                       maxlength="200"
                       [(ngModel)]="usuario.nombre"
                       #nombreInput="ngModel">
            </ion-input>
        </ion-item>
        <!--
            <p> Valid {{nombreInput.valid}} </p>
            <p> Invalid {{nombreInput.invalid}} </p>
            <p> Touch {{nombreInput.touched}} </p>
            <p> Untouched {{nombreInput.untouched}} </p>
            <p> Disabled {{nombreInput.disabled}} </p>
            <p> Enabled {{nombreInput.enabled}} </p>
            <p> Pristine {{nombreInput.pristine}} </p>
            <p>Dirty {{nombreInput.dirty}} </p>
            <h3> Errors </h3>
            <pre>
            {{nombreInput.errors | json}}
            </pre>
        -->

        <div *ngIf="nombreInput.touched && nombreInput.dirty">
            <p *ngIf="nombreInput.errors?.required ">
                Este campo es requerido.
            </p>

            <p *ngIf="nombreInput.errors?.minlength">
                Llenar con un mínimo de 3 caracteres.
            </p>

            <p *ngIf="nombreInput.errors?.maxlength">
                Llenar con un máximo de 200 caracteres.
            </p>

        </div>

        <ion-item>
            <ion-label>Email:</ion-label>
            <ion-input type="text"
                       name="correo"
                       email="true"
                       placeholder="Ej: edison.sanango@gmail.com"
                       required
                       [(ngModel)]="usuario.correo"
                       #emailInput="ngModel">
            </ion-input>
        </ion-item>

        <div *ngIf="emailInput.touched && emailInput.dirty">
            <p *ngIf="emailInput.errors?.required ">
                Este campo es requerido.
            </p>

            <p *ngIf="emailInput.errors?.email">
                Ingrese un correo válido
            </p>

        </div>

        <ion-item>
            <ion-label>Edad:</ion-label>
            <ion-input type="number"
                       name="edad"
                       pattern="([0-9])+"
                       required
                       [(ngModel)]="usuario.edad"
                       #edadInput="ngModel">
            </ion-input>
        </ion-item>

        <div *ngIf="edadInput.touched && edadInput.dirty">
            <p *ngIf="edadInput.errors?.required ">
                Este campo es requerido.
            </p>

            <p *ngIf="edadInput.errors?.pattern">
                Ingrese un número (0 - 150)
            </p>

        </div>

        <ion-item>
            <ion-label>Password:</ion-label>
            <ion-input type="password"
                       name="password"
                       pattern="([0-9])+"
                       required
                       [(ngModel)]="usuario.password"
                       #passwordInput="ngModel"
                       placeholder="Ej: Clave123"
                       title="Llene el password.">

            </ion-input>
        </ion-item>

        <ion-item>
            <ion-label>Conf. Password:</ion-label>
            <ion-input type="password"
                       name="passwordConfirmation"
                       pattern="Contraseña123"
                       required
                       [(ngModel)]="usuario.passwordConfirmation"
                       #passwordConfirmationInput="ngModel"
                       placeholder="Ej: Clave123"
                       title="Llene la confirmación del password.">

            </ion-input>
        </ion-item>


        <div *ngIf="passwordInput.touched && passwordInput.dirty &&
        passwordConfirmationInput.touched && passwordConfirmationInput.dirty">
            <p *ngIf="validarPasswordIguales() ">
                Las password no coinciden.
            </p>
        </div>


        <ion-button expand="full" [disabled]="validarPasswordIguales()  ||
                                               (usuarioFormulario.valid && usuario.password === ''  ||
                                                usuarioFormulario.invalid)" >ACEPTAR</ion-button>
    </form>

    <br>
    <br>
    <br>
    <br>
    <br>
</ion-content>
